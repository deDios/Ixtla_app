/* ====== Layout general ====== */
.ix-dashboard{padding:20px}
.ix-dash-head{display:flex;justify-content:space-between;align-items:flex-end;gap:16px;margin-bottom:10px}
.ix-title{margin:0;font-size:1.5rem;font-weight:800;color:#0f172a}
.ix-subtitle{margin:.2rem 0 0;color:#64748b}

/* ====== Filtros ====== */
.ix-filtros{display:flex;gap:12px;align-items:center}
.ix-filter{display:flex;gap:8px;align-items:center;font-size:.95rem;color:#334155}

/* ====== Chips de Departamentos ====== */
.ix-dept-chips{margin:6px 0 16px 0}
.ix-chips-scroll{display:flex;gap:8px;overflow:auto;padding:4px 2px}
.ix-chip{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid #e2e8f0;background:#f8fafc;color:#0f172a;
  padding:8px 12px;border-radius:999px;cursor:pointer;white-space:nowrap;
  transition:background .15s,border-color .15s,box-shadow .15s
}
.ix-chip:hover{background:#eef2ff;border-color:#c7d2fe}
.ix-chip[aria-selected="true"]{
  background:#2563eb;color:#fff;border-color:#2563eb;box-shadow:0 1px 0 rgba(0,0,0,.06)
}
.ix-chip .ix-n{opacity:.85;font-weight:700}

/* ====== Grid principal ====== */
.ix-dash-grid{
  display:grid;
  grid-template-columns:1.2fr 1fr 1fr;
  gap:16px;
  align-items:stretch;            /* <-- clave para igualar alturas */
}

/* ====== Card ====== */
.ix-card{
  background:#fff;border-radius:14px;border:1px solid #f1f5f9;
  box-shadow:0 1px 3px rgba(0,0,0,.06);
  padding:16px;min-width:0;
  display:flex;flex-direction:column;
}
.ix-card--equal{
  min-height: 620px;              /* puedes ajustar este baseline */
  height: 100%;
}
.ix-card > *{ width:100%; }

/* Contenedor con scroll (para tabla y mapa) */
.ix-fill-scroll{
  flex:1 1 auto;
  min-height:0;                   /* necesario para que funcione overflow con flex */
  overflow:auto;
}

/* ====== Tabla simple ====== */
.ix-table{ width:100%; display:block; }
.ix-table .ix-thead,
.ix-table .ix-row{
  display:grid;align-items:center;gap:8px;
  grid-template-columns:1fr 100px 100px 100px;
}
.ix-thead{
  position:sticky; top:0; z-index:1;  /* header pegado */
  background:#fff;
  font-weight:700;color:#111827;border-bottom:1px solid #f1f5f9;
  padding:10px 0;margin-bottom:2px
}
.ix-row{padding:10px 0;border-bottom:1px dashed #f3f4f6;color:#111827}
.ta-right{text-align:right}

/* Compatibilidad con clases previas */
.ix-thead--4cols{grid-template-columns:1fr 100px 100px 100px}
.ix-row--4cols{grid-template-columns:1fr 100px 100px 100px}

/* ====== Tarjetas de estatus ====== */
.ix-cards{
  width:100%;
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
  gap:10px;
}
.ix-badge{
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 12px;border-radius:10px;background:#f8fafc;border:1px solid #eef2f7
}
.ix-badge .n{font-size:1.25rem;font-weight:800;color:#0f172a}

/* ====== Donuts ====== */
.ix-donut{display:flex;gap:14px;align-items:center;justify-content:center;flex-wrap:wrap}
.ix-donut--fullcenter{justify-content:center !important;align-items:center !important}
#donut-open-close,#donut-open-close-2{display:block;margin:0 auto}
.ix-donut-legend{width:100%;text-align:center}
.ix-donut-legend div{margin:4px 0;font-size:.95rem}
.ix-dot{display:inline-block;width:10px;height:10px;border-radius:2px;margin-right:6px;vertical-align:middle}
.ix-dot.open{background:#22c55e}.ix-dot.closed{background:#475569}
.ix-donut--under-status{ margin-top:16px; padding-top:8px; border-top:1px dashed #eef2f7; }

/* ====== Mapa ====== */
#map-colonias{
  height: 100%;                    /* ocupa todo el alto disponible dentro del card */
  min-height: 420px;               /* mínimo cómodo */
  border-radius: 10px;
  overflow: hidden;
}
.map-legend{
  position: relative;
  margin-top: 10px;
  text-align:center;
  font-size:.9rem;
  color:#334155;
}
.map-legend .scale{
  display:inline-grid;
  grid-auto-flow:column;
  gap:0;
  align-items:center;
  border:1px solid #e5e7eb;
  border-radius: 6px;
  overflow:hidden;
}
.map-legend .scale span{
  display:block; width:40px; height:10px;
}

/* etiqueta pequeña con el número sobre el punto */
.leaflet-div-icon.ix-map-count {
  background: transparent; border: 0;
}
.leaflet-div-icon.ix-map-count > div{
  background: rgba(255,255,255,.85);
  color: #0f172a;
  font-weight: 800;
  font-size: 12px;
  line-height: 1;
  padding: 2px 6px;
  border-radius: 10px;
  box-shadow: 0 1px 2px rgba(0,0,0,.15);
  transform: translate(-50%, -6px);
}


/* ====== Responsive ====== */
@media (max-width:1100px){
  .ix-dash-grid{grid-template-columns:1fr}
  .ix-cards{grid-template-columns:repeat(2,minmax(0,1fr))}
  .ix-card--equal{min-height:520px}
}
