/* ==============================
   Variables y layout base
   ============================== */
main.home-samapa {
  --hs-brand: #6aa995;
  --hs-accent: #4f6b95;
  --hs-text: #111827;
  --hs-muted: #6b7280;
  --hs-border: #e5e7eb;
  --page-max: 1800px;
  --page-pad-left: clamp(12px, 1.5vw, 20px);
  --page-pad-right: clamp(28px, 4vw, 48px);
  --sidebar-w: 280px;
  --sidebar-pad-x: 12px;
  --radius: 14px;
  color: var(--hs-text);
}

/* ==============================
   Variables y layout base
   ============================== */
:root{
  --hs-brand:#6aa995;
  --hs-accent:#4f6b95;
  --hs-text:#111827;
  --hs-text-muted:#6b7280;
  --hs-border:#e5e7eb;

  --page-max: 1800px;
  --page-pad-left: clamp(12px, 1.5vw, 20px);
  --page-pad-right: clamp(28px, 4vw, 48px);

  --sidebar-w: 280px;
  --sidebar-pad-x: 12px;

  --radius: 14px;

  /* Charts */
  --hs-card-bg: #fff;
  --hs-card-radius: 10px;
  --hs-card-pad: 16px;
  --hs-chart-height: 240px;
  --hs-gap: 16px;

  /* Sticky offsets (ajusta según tu header real) */
  --header-h: 72px;
  --subnav-h: 48px;
  --sticky-top: calc(var(--header-h) + var(--subnav-h));
  --footer-pad: 32px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --hs-card-bg: #111827;
    --hs-text: #e5e7eb;
    --hs-text-muted: #9ca3af;
    --hs-border: #374151;
  }
}

html, body{ height:100%; }
body{
  overflow-y:auto;
  overflow-x:hidden;
  scroll-behavior:smooth;
  /*color:var(--hs-text);*/
  background:#fff;
}

main.home-samapa{
  color: var(--hs-text);
  padding:16px 0 24px;
  padding-top:5rem;
}

/* ==============================
   Contenedor principal
   ============================== */
.home-samapa .hs-wrap{
  display:grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  gap: clamp(18px, 2.2vw, 26px);
  align-items:stretch;

  max-width: var(--page-max);
  margin-inline:auto;
  padding-left: var(--page-pad-left);
  padding-right: var(--page-pad-right);

  /* divisor vertical a todo lo alto */
  background-image: linear-gradient(var(--hs-border), var(--hs-border));
  background-repeat:no-repeat;
  background-size:1px 100%;
  background-position: calc(var(--page-pad-left) + var(--sidebar-w)) 0;
}
@media (max-width: 992px){
  .home-samapa .hs-wrap{
    grid-template-columns:1fr;
    background-image:none;
    padding-inline: clamp(14px, 4vw, 24px);
  }
}

/* ==============================
   Sidebar
   ============================== */
.hs-sidebar{
  display:flex; flex-direction:column; gap:14px;
  padding-inline: var(--sidebar-pad-x);
  padding-top:1rem;

  position:sticky; top:var(--sticky-top);
  align-self:start;
  max-height: calc(100vh - var(--sticky-top));
  z-index:2;
}
.hs-profile{
  display:grid; gap:8px; justify-items:center; text-align:center;
}
.hs-profile .avatar{
  width:88px; height:88px; border-radius:50%; background:#e9edf1; object-fit:cover; display:block;
  box-shadow: inset 0 1px 0 rgba(0,0,0,.06);
}
.hs-profile .name{ font-weight:700; margin:4px 0 2px; }
.hs-profile .badge{
  display:inline-flex; align-items:center; justify-content:center;
  padding:8px 12px; border-radius:999px; font-weight:700; color:#fff; background:var(--hs-brand);
}

/* Estados (sidebar) */
.hs-states{ display:flex; flex-direction:column; gap:2px; }
.hs-states .item{
  all:unset; display:flex; justify-content:space-between; align-items:center;
  padding:12px 14px; border-radius:10px; cursor:pointer; color:#334155;
}
.hs-states .item:hover{ background:#f3f4f6; }
.hs-states .item .label{ font-weight:600; }
.hs-states .item .count{ color:#2e7d32; }
.hs-states .item.is-active{ color:var(--hs-brand); background:#eef7f3; }
.hs-states .item[aria-disabled="true"]{ color:#9ca3af; cursor:default; }

/* ==============================
   Main
   ============================== */
.hs-main{
  display:grid; gap: clamp(18px, 2vw, 28px);
  min-height: calc(100vh - var(--sticky-top) - var(--footer-pad));
  padding-bottom: var(--footer-pad);
}

/* ==============================
   Fila de charts 60/40
   ============================== */
.hs-charts{
  display:grid;
  /* 60% línea / 40% donut+leyenda, con mínimos cómodos */
  grid-template-columns: minmax(520px, 3fr) minmax(460px, 2fr);
  gap: var(--hs-gap);
  align-items:stretch;
}
@media (max-width: 1200px){
  .hs-charts{ grid-template-columns:1fr; }
}

/* Tarjeta de chart */
.hs-card{
  border:1px solid var(--hs-border);
  border-radius: var(--hs-card-radius);
  padding: var(--hs-card-pad);
  position:relative;
  /* background: var(--hs-card-bg); */
}
.hs-chart-wrap{
  
  position:relative;
  height: var(--hs-chart-height);
  overflow:hidden;
  background:#fff;
}
.hs-chart-wrap > canvas{ display:block; width:98%; height:100%; }

/* ==============================
   Donut: gráfico + leyenda a la derecha
   ============================== */
.hs-donut{
  display:flex; align-items:center; gap:1rem;
}
.hs-donut .hs-chart-wrap{
  flex:0 0 320px;              /* ancho del donut */
  min-width:300px;
}
.hs-donut-legend{
  flex:1 1 auto;
  max-height: calc(var(--hs-chart-height) + 32px);
  padding:.25rem .25rem .25rem .5rem;

  font-size: 13px;

  /* >>> Solo scroll vertical, ocultar horizontal */
  overflow-y: auto;
  overflow-x: hidden;
}

/* Leyenda en una columna para evitar scroll horizontal */
#donut-legend{
  display:grid;
  grid-template-columns: 1fr; /* <- 1 columna: lista larga con scroll vertical */
  gap:.4rem .75rem;
  align-content:start;
  list-style:none;
  padding:0; margin:0;
}
#donut-legend li{ display:flex; align-items:center; gap:.5rem; min-width:0; }
#donut-legend .bullet{ width:.75rem; height:.75rem; border-radius:999px; display:inline-block; flex:0 0 .75rem; }
#donut-legend .t{ flex:1 1 auto; min-width:0; overflow:hidden; text-overflow:ellipsis; }
#donut-legend .pct{ white-space:nowrap; }

/* En móvil, el donut arriba y la lista debajo */
@media (max-width:768px){
  .hs-donut{ flex-direction:column; align-items:stretch; }
  .hs-donut .hs-chart-wrap{ flex:0 0 auto; min-width:0; }
  .hs-donut-legend{ max-height:220px; }
}

/* ==============================
   Tabla + buscador
   ============================== */
.hs-table .hs-head{
  display:flex; align-items:center; gap:10px; margin: 18px 0 12px;
}
.hs-table .hs-head h3{ margin:0 6px 0 0; font-weight:700; }
.hs-table .hs-head .hs-tools{
  flex:1; display:flex; align-items:center; gap:14px; flex-wrap:wrap; justify-content:space-between;
}
.hs-table .search{
  display:flex; align-items:center; gap:8px;
  background:#f6f7f9; border:1px solid #e7e9ee; border-radius:999px; padding:8px 12px;
}
.hs-table .search input{
  border:0; background:transparent; outline:none; min-width:260px; color:var(--hs-text);
}
.hs-table .hs-tools .legend{
  padding-left:22px; border-left:1px solid var(--hs-border);
  color:#566171; white-space:nowrap;
}
@media (max-width:1200px){
  .hs-table .hs-tools{ justify-content:flex-start; }
  .hs-table .hs-tools .legend{ border-left:0; padding-left:0; margin-top:6px; }
}

/* Wrapper tabla */
.table-wrap{
  position:relative; overflow:auto; max-height:60vh;
  background:#fff; border:1px solid #e9edf2; border-radius: var(--radius);
  box-shadow: 0 1px 0 rgba(0,0,0,.02);
  clip-path: inset(0 round var(--radius));
}

/* Tabla */
table.gc{ width:100%; border-collapse:separate; border-spacing:0; table-layout:fixed; }
table.gc thead th{
  position:sticky; top:0; z-index:1;
  background:#f3f4f6; border-bottom:1px solid var(--hs-border);
  padding:14px 20px; font-weight:700; color:#334155; white-space:nowrap; text-align:left;
}
table.gc tbody td{
  padding:14px 20px; border-bottom:1px solid #f0f3f6; color:var(--hs-text); vertical-align:middle; background:#fff;
}
table.gc tbody tr:nth-child(even){ background:#fafafa; }
table.gc tbody tr:hover{ background:#f3f4f6; }

table.gc th:nth-child(1), table.gc td:nth-child(1){ min-width:220px; text-align:left; }
table.gc th:nth-child(2), table.gc td:nth-child(2){ min-width:200px; text-align:center; }
table.gc th:nth-child(3), table.gc td:nth-child(3){ min-width:150px; text-align:center; }
table.gc th:nth-child(4), table.gc td:nth-child(4){ min-width:140px; text-align:center; padding-right:28px; }

.gc td:nth-child(2), .gc td:nth-child(3){
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.gc td:nth-child(1){ font-variant-numeric: tabular-nums; color:#111827; }
.gc td:nth-child(4){ white-space:nowrap; }

.gc tbody tr.is-clickable{ cursor:pointer; }
.gc tbody tr.is-clickable:hover td{ background:#f9fafb; }

.gc tbody tr.hs-gap td{
  background:#fff !important; height:42px; border-bottom:1px solid #f3f4f6;
}
.gc tbody tr.hs-gap{ pointer-events:none; }

/* Badge de estatus */
.badge-status{
  display:inline-flex; align-items:center; justify-content:center;
  min-height:24px; min-width:70px; padding:4px 10px;
  border-radius:10px; line-height:1; font-size:12px; font-weight:600; color:#111827;
}
.badge-status[data-k="solicitud"]  { background:#e9eafe; }
.badge-status[data-k="revision"]   { background:#e6f0ff; }
.badge-status[data-k="asignacion"] { background:#e6fff4; }
.badge-status[data-k="enProceso"]  { background:#e8f1ff; }
.badge-status[data-k="pausado"]    { background:#fff4da; }
.badge-status[data-k="cancelado"]  { background:#ffe4e6; }
.badge-status[data-k="finalizado"] { background:#e7fff4; }

/* ==============================
   Paginación
   ============================== */
.hs-pager{
  display:flex; align-items:center; flex-wrap:wrap; gap:.4rem; margin-top:.75rem;
}
.hs-pager .btn{
  border:1px solid var(--hs-border); background:#fff; color:var(--hs-text);
  padding:8px 12px; border-radius:10px; font-weight:700; cursor:pointer;
}
.hs-pager .btn.primary{ background:var(--hs-accent); border-color:var(--hs-accent); color:#fff; }
.hs-pager input[type="number"]{
  width:4rem; padding:.35rem .4rem; border:1px solid #e5e7eb; border-radius:.375rem;
}

/* ==============================
   Utilidades
   ============================== */
.muted{ color:var(--hs-text-muted); }
.sr-only{
  position:absolute !important;
  width:1px; height:1px; padding:0; margin:-1px; overflow:hidden;
  clip: rect(0,0,0,0); white-space:nowrap; border:0;
}

.hs-table table.gc thead th:nth-child(5),
.hs-table table.gc tbody td:nth-child(5){
  text-align:center; padding-left:0; padding-right:0; width:160px;
}
@media (max-width:920px){
  .hs-table table.gc thead th:nth-child(5),
  .hs-table table.gc tbody td:nth-child(5){ width:140px; }
}

@media (max-width:1100px){
  .hs-pager{ justify-content:center; row-gap:10px; }
}
@media (max-width:640px){
  .hs-pager .btn{ padding:6px 10px; border-radius:10px; }
  .hs-pager input[type="number"]{ width:64px; }
}




/* -------------------------- Modal ------------------------------------ */
.modal-overlay{
  position: fixed;
  inset: 0;
  display: none;               
  align-items: center;
  justify-content: center;
  padding: 1.25rem;
  background: rgba(17,24,39,.6); 
  z-index: 9999;
}
.modal-overlay.active{ display: flex; }

/* Bloqueo de scroll del body cuando el modal está abierto */
body.modal-open{ overflow: hidden; }

/* ===== Modal Content ===== */
.modal-content{
  width: min(640px, 92vw);
  max-height: min(88vh, 1000px);
  overflow: auto;
  background: #fff;
  color: #111827;
  border-radius: 12px;
  box-shadow: 0 15px 45px rgba(0,0,0,.25);
  padding: 1.25rem 1.25rem 1rem;
  transform: translateY(8px) scale(.985);
  opacity: 0;
  transition: transform .18s ease, opacity .18s ease;
}
.modal-overlay.active .modal-content{
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* Cabecera / Cerrar */
.modal-content h2{
  margin: .25rem 2rem 1rem .25rem;
  font-size: clamp(1.25rem, 2vw + .5rem, 1.8rem);
  font-weight: 800;
  text-align: center;
  color: #e5e7eb;                 /* título claro… */
  background: linear-gradient(180deg, #f9fafb 0, #d1d5db 100%); /* …pero */
  -webkit-background-clip: text;  background-clip: text;
  -webkit-text-fill-color: transparent;
}
.modal-close{
  position: absolute;
  top: .5rem; right: .75rem;
  background: transparent;
  border: 0;
  font-size: 1.25rem;
  cursor: pointer;
  color: #111827;
  opacity: .6;
}
.modal-close:hover{ opacity: 1; }

/* ===== Form ===== */
.form-row{ margin-bottom: .9rem; }
.form-row.split{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: .75rem;
}
.form-row label{
  display: block;
  font-size: .9rem;
  color: #6b7280;
  margin-bottom: .35rem;
}
.form-row input[type="text"],
.form-row input[type="email"],
.form-row input[type="password"],
.form-row input[type="tel"]{
  width: 100%;
  height: 38px;
  padding: 0 .65rem;
  border: 1px solid #e5e7eb;
  border-radius: 8px;
  background: #f9fafb;
  outline: none;
  transition: border-color .15s, background .15s, box-shadow .15s;
}
.form-row input:focus{
  border-color: #3b82f6;
  background: #fff;
  box-shadow: 0 0 0 3px rgba(59,130,246,.15);
}

/* Solo lectura (Reporta a) */
.is-readonly{
  background: #f3f4f6;
  color: #6b7280;
  border-color: #e5e7eb;
  cursor: not-allowed;
}

/* Submit */
.btn-submit{
  width: 100%;
  height: 42px;
  border: 0;
  border-radius: 8px;
  background: #3b82f6;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  margin-top: .5rem;
  transition: filter .15s;
}
.btn-submit:hover{ filter: brightness(1.05); }

/* Notas */
.modal-note{
  margin: .75rem 0 .25rem;
  font-size: .85rem; color: #6b7280;
}
.modal-copy{
  margin: 0 0 .25rem;
  font-size: .75rem; color: #9ca3af; text-align: center;
}

/* Tooltip mini */
.tooltip{ position: relative; cursor: help; display: inline-block; }
.tooltip .tooltiptext{
  visibility: hidden;
  position: absolute;
  left: 50%; bottom: 115%;
  transform: translateX(-50%);
  background: #111827; color: #fff;
  padding: .35rem .5rem;
  border-radius: .5rem;
  white-space: nowrap;
  font-size: .75rem;
  opacity: 0; transition: opacity .12s;
}
.tooltip:hover .tooltiptext{ visibility: visible; opacity: 1; }

/* Responsivo */
@media (max-width: 520px){
  .form-row.split{ grid-template-columns: 1fr; }
}
